2022030907:44

Status: #tryhackme #cybersecurity #pentesing 

Links:

# Pentesting Fundamentals
### Ethicality
Penetration tests are **authorized audits or contracts** between a cybersecurity team and the owners of the computer systems. Anything that is out of bounds of the agreed upon the contract can be unauthorized or even illegal and punishable by law. The scopes and bounds of the contract must be negotiated first.

There are different kinds of hackers and their ethics and motivations can differ.
- **White Hat:** Considered "good" and they stay within the bounds of the law, using their skills to benefit others. (Ex: corporate cybersecurity teams.)
- **Grey Hat:** They can use their skills to benefit people, but they don't always follow the law. (Ex: Taking down a scamming website, or whistleblowing.)
- **Black Hat:** These people are criminals, usually motivated by financial gain. (Ex: Malware authors who code ransomware.)

#### Rules of Engagement (ROE)
A ROE is a document created during the initial set up stages of creating an agreed upon penetration test. [Here is an example of a ROE document.](https://sansorg.egnyte.com/dl/bF4I3yCcnt/?)

1. **Permission:** Section of the ROE where explicit permission is set in writing. Meant to legally protect the individual or organizations for carrying out the pentest.
2. **Test Scope:** Section where specific targets and bounds are set. Ex: The pentest can only focus on certain servers, instead of the entire network.
3. **Rules:** Defines what techniques are permitted during the pentest. Ex: Phishing attacks are not allowed, but buffer overflows are allowed.
___
### Methodologies
- **Information Gathering:** Involves collecting as much publicly available information as possible. Involves research and open source intelligence (OSINT).
- **Enumeration / Scanning:** Involves discovering applications and services running on a system. (Ex: Finding a vulnerable web server.)
- **Exploitation:** Leverages the vulnerabilities on a system or service. Can either use publicly available or well known exploits, or may also involve exploiting the logic on a service / system.
- **Privilege Escalation:** Once you have exploited a system or service, this is where you attempt to expand the amount of access you have.
	- Horizontal escalation means you are accessing other accounts within the same permission group. (Ex: Accessing another student's account.)
	- Vertical escalation means you are jumping permission groups entirely. (Ex: Jumping from a basic user or student account to an admin account.)
- **Post-exploitation**: Involves a few substages;
	1. What other hosts can be targeted (called **pivoting**)
	2. What additional info can be gathered from the host now that we are a privileged / root user
	3. Covering the tracks you made
	4. Reporting what you did and what you find
---
### Differing Frameworks
Each framework has a different focus on application suites, each with their pros and cons.
1. [Open Web Application Security Project (OWASP)](https://owasp.org/)
2. [The Open Source Security Testing Methodology Manual (OSSTMM)](https://www.isecom.org/OSSTMM.3.pdf)
3. [National Institute of Standards and Technology (NIST)](https://www.nist.gov/cyberframework)
4. [National Cyber Security Centre Cyber Assessment Framework (NCSC CAF)](https://www.ncsc.gov.uk/collection/caf/caf-principles-and-guidance)
---
### Black box, White box, and Grey Box Penetration Testing
When doing a penetration test, you may not always know the ins and outs of whatever you are probing into. Ideally, you want the most information about your target, but in the real world this isn't always possible.

There are 3 levels of scope when dealing the amount of information you know going in:
1. **Black Box: ** No knowledge going in.
	- High-level process where the tester is not given any information about the inner working of an application or service.
	- Doesn't always require programming knowledge for this type of testing
	- Takes much more time to do
2. **Grey Box:** You have partial or limited knowledge of your target.
	- May still need to treat it as a black box for parts of the operation
	- The given knowledge can save some time
	- Can act as a surface for more hardened attack vectors
3. **White Box:** You have full knowledge of the target.
	- Usually involves low-level or more granular level tasks
	- Almost always is done by a software developer who knows about program logic and the internal processes of a system or service
	- Validation for the attack surface can take much longer as it is full-scale
___
# References
- [Example Rules of Engagement (ROE) document](https://sansorg.egnyte.com/dl/bF4I3yCcnt/?)
